# Chapter 04. CPUμ μ‘λ™ μ›λ¦¬

- [04-1) ALUμ™€ μ μ–΄μ¥μΉ](#1-aluμ™€-μ μ–΄μ¥μΉ)
- [04-2) λ μ§€μ¤ν„°](#2-λ μ§€μ¤ν„°)
- [04-3) λ…λ Ήμ–΄ μ‚¬μ΄ν΄κ³Ό μΈν„°λ½νΈ](#3-λ…λ Ήμ–΄-μ‚¬μ΄ν΄κ³Ό-μΈν„°λ½νΈ)

## 1οΈβƒ£ ALUμ™€ μ μ–΄μ¥μΉ

```markdown
π’΅ CPUμ κµ¬μ„± μ”μ† μ¤‘ ALUμ™€ μ μ–΄μ¥μΉκ°€ μ–΄λ–¤ μ •λ³΄λ¥Ό λ‚΄λ³΄λ‚΄κ³  λ°›μ•„λ“¤μ΄λ”μ§€μ— λ€ν•΄ μ•μ•„λ³΄κΈ°
```

### β‡οΈ ALU

<div align="center"><img width="60%" src="images/04_ALU_λ°›κ³ λ‚΄λ³΄λ‚΄λ”μ •λ³΄.png"/></div>

- λ°›μ•„λ“¤μ΄λ” μ •λ³΄

ALUλ” **μ μ–΄μ¥μΉ**λ΅λ¶€ν„° μν–‰ν•  μ—°μ‚°μ„ μ•λ ¤μ£Όλ” **β‘  μ μ–΄ μ‹ νΈ**μ™€, **λ μ§€μ¤ν„°**λ΅λ¶€ν„° μ—°μ‚°μ— ν•„μ”ν• κ°’λ“¤μΈ **β‘΅ ν”Όμ—°μ‚°μ**λ¥Ό λ°›μ•„λ“¤μΈλ‹¤.

- λ‚΄λ³΄λ‚΄λ” μ •λ³΄

μ—°μ‚°μ„ μν–‰ν• κ²°κ³Όμ—λ” μ«μλ‚ λ¬Έμ, λ©”λ¨λ¦¬ μ£Όμ† λ“±μ΄ μλ‹¤.  
κ·Έλ¦¬κ³  μ΄λ¬ν• κ²°κ³Όλ” μ—°μ‚°μ„ ν†µν•΄ μ–»κ² λ μ‹¤μ  **β‘  κ²°κ΄κ°’**κ³Ό **β‘΅ ν”λκ·Έ** μ •λ³΄λ΅ λ‚λ‰λ‹¤.

#### π” ν”λκ·Έ(μƒνƒ) λ μ§€μ¤ν„°

<div align="center"><img width="60%" src="images/04_ν”λκ·Έλ μ§€μ¤ν„°_μμ‹.png"/></div>
<div align="center"><img width="80%" src="images/04_ν”λκ·Έλ μ§€μ¤ν„°_ν”λκ·ΈμΆ…λ¥_μ„ν‚¤.png"/></div>

- CPUμ λ μ§€μ¤ν„°μ—λ” ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°, λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°, λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°, λ…λ Ήμ–΄ λ μ§€μ¤ν„° λ“±μ΄ μλ‹¤.
- κ·Έ μ¤‘ ALU μ—°μ‚°μ κ²°κ³Όλ΅ λ‚μ¤λ” **ν”λκ·Έ** μ •λ³΄λ¥Ό μ €μ¥ν•λ” **ν”λκ·Έ λ μ§€μ¤ν„°**κ°€ μλ‹¤.
- **ν”λκ·Έ**λ€ ALUμ μ—°μ‚° κ²°κ³Όμ— λ€ν• μ¶”κ°€μ μΈ μƒνƒ μ •λ³΄λ¥Ό λ‚νƒ€λ‚Έλ‹¤.

### β‡οΈ μ μ–΄μ¥μΉ

<div align="center"><img width="60%" src="images/04_μ μ–΄μ¥μΉ_λ°›κ³ λ‚΄λ³΄λ‚΄λ”μ •λ³΄.png"/></div>
<p align="center" style="font-weight:bold">< μ μ–΄μ¥μΉ ></p>
<div align="center"><img width="60%" src="images/04_μ μ–΄μ¥μΉ_ν΄λ­μ‹ νΈ.png"/></div>


#### π” μ μ–΄μ¥μΉκ°€ λ°›μ•„λ“¤μ΄λ” 4κ°€μ§€ μ •λ³΄

1. μ μ–΄μ¥μΉλ” **ν΄λ­ μ‹ νΈ**λ¥Ό λ°›μ•„λ“¤μΈλ‹¤.
   - **ν΄λ­**μ΄λ€ CPUμ μ†λ„λ¥Ό λ‚νƒ€λ‚΄λ” λ‹¨μ„λ΅ μ μ–΄ μ‹ νΈμ μµμ† μ£ΌκΈ°λ¥Ό λ‚νƒ€λ‚Έλ‹¤.
   - (μ£Όμ) λ¨λ“  ν΄λ­μ λ…λ Ήμ–΄ μ‚¬μ΄ν΄μ΄ λ‹¨μΌ ν΄λ­ μ£ΌκΈ°λ΅ λ™μ‘λλ” κ²ƒμ€ μ•„λ‹λ‹¤.
2. μ μ–΄μ¥μΉλ” ν•΄μ„ν•΄μ•Ό ν•  **λ…λ Ήμ–΄**λ¥Ό λ°›μ•„λ“¤μΈλ‹¤.
   - μν–‰ν•΄μ•Ό ν•  λ…λ Ήμ–΄λ¥Ό **λ…λ Ήμ–΄ λ μ§€μ¤ν„°**λ΅λ¶€ν„° κ°€μ Έμ™€ ν•΄μ„ν• λ’¤, λ…λ Ήμ–΄ μ²λ¦¬λ¥Ό μ„ν• **μ μ–΄ μ‹ νΈ**λ¥Ό λ°μƒμ‹ν‚¨λ‹¤.
3. μ μ–΄μ¥μΉλ” ν”λκ·Έ λ μ§€μ¤ν„° μ† **ν”λκ·Έ κ°’**μ„ λ°›μ•„λ“¤μΈλ‹¤. 
   - ALU μ—°μ‚°μ— λ€ν• μƒνƒ μ •λ³΄μΈ ν”λκ·Έ κ°’μ„ ν™•μΈν• λ’¤, μ μ–΄ μ‹ νΈλ¥Ό λ°μƒμ‹ν‚¨λ‹¤.
4. μ μ–΄μ¥μΉλ” μ‹μ¤ν…λ²„μ¤, κ·Έμ¤‘μ—μ„ μ μ–΄ λ²„μ¤λ΅ μ „λ‹¬λ **μ μ–΄ μ‹ νΈ**λ¥Ό λ°›μ•„λ“¤μΈλ‹¤.
   - μ μ–΄ μ‹ νΈλ” CPUλΏλ§ μ•„λ‹λΌ μ…μ¶λ ¥μ¥μΉλ¥Ό λΉ„λ΅―ν• μ™Έλ¶€ μ¥μΉλ„ λ°μƒμ‹ν‚¬ μ μλ‹¤.
   - μ μ–΄μ¥μΉλ” μ μ–΄ λ²„μ¤λ¥Ό ν†µν•΄ **μ™Έλ¶€λ΅ μ „λ‹¬λ μ μ–΄ μ‹ νΈ**λ¥Ό λ°›μ•„λ“¤μΈλ‹¤.

#### π” μ μ–΄μ¥μΉκ°€ λ‚΄λ³΄λ‚΄λ” 2κ°€μ§€ μ •λ³΄

1. **CPU λ‚΄λ¶€**μ— μ μ–΄ μ‹ νΈ λ°μƒ(ALU, λ μ§€μ¤ν„° λ“±)
   - ALUμ—λ” μν–‰ν•  μ—°μ‚°μ„ μ§€μ‹ν•κΈ° μ„ν•΄
   - λ μ§€μ¤ν„°μ—λ” λ μ§€μ¤ν„° κ°„μ λ°μ΄ν„° μ΄λ™μ΄λ‚ λ…λ Ήμ–΄λ¥Ό ν•΄μ„ν•κΈ° μ„ν•΄
2. **CPU μ™Έλ¶€**μ— μ μ–΄ μ‹ νΈ λ°μƒ (λ©”λ¨λ¦¬, μ…μ¶λ ¥μ¥μΉ λ“±)
   - μ…μ¶λ ¥ν•κΈ° μ„ν•΄

---
<br>


## 2οΈβƒ£ λ μ§€μ¤ν„° (Register)

```markdown
π’΅ λ μ§€μ¤ν„°μ μΆ…λ¥μ™€ μ—­ν• μ„ μ•μ•„λ³΄κ³ , κ° λ μ§€μ¤ν„°λ¥Ό ν†µν•΄ λ…λ Ήμ–΄κ°€ μ²λ¦¬λλ” κ³Όμ •μ„ μ΄ν•΄ν•κΈ°
```

> π’΅ **λ μ§€μ¤ν„°λ€?**  
> λ μ§€μ¤ν„°λ€ CPUκ°€ **λ…λ Ήμ–΄λ¥Ό μ²λ¦¬ν•κΈ° μ„ν•΄** ν•„μ”ν• **λ°μ΄ν„°μ™€ λ…λ Ήμ–΄**λ¥Ό λ³΄κ΄€ν•  μ μλ” μ‘μ€ **μ„μ‹μ €μ¥μ¥μΉ**μ΄λ‹¤.  
> CPU λ‚΄λ¶€μ— μ΅΄μ¬ν•λ©°, κ³µκ°„μ ν¬κΈ°λ” λ§¤μ° μ‘μ§€λ§ μ»΄ν“¨ν„° λ‚΄μ—μ„ **μ†λ„κ°€ κ°€μ¥ λΉ λ¥Έ λ©”λ¨λ¦¬**μ΄λ‹¤.

### β‡οΈ λ°λ“μ‹ μ•μ•„μ•Ό ν•  λ μ§€μ¤ν„° μΆ…λ¥

- ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°
- λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°
- λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°
- λ…λ Ήμ–΄ λ μ§€μ¤ν„°
- ν”λκ·Έ λ μ§€μ¤ν„°
- λ²”μ© λ μ§€μ¤ν„°
- μ¤νƒ ν¬μΈν„°
- λ² μ΄μ¤ λ μ§€μ¤ν„°

#### π” ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„° (PC, Program Counter)

- λ©”λ¨λ¦¬μ—μ„ κ°€μ Έμ¬ **λ…λ Ήμ–΄μ μ£Όμ†λ¥Ό μ €μ¥**ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤.
- CPUμ— λ”°λΌ λ…λ Ήμ–΄ ν¬μΈν„°(IP, Instruction Pointer)λΌλ” λ…μΉ­μ„ μ‚¬μ©ν•κΈ°λ„ ν•λ‹¤.

#### π” λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„° (MAR, Memory Address Register)

- **λ©”λ¨λ¦¬μ μ£Όμ†λ¥Ό μ €μ¥**ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤.
- CPUκ°€ μ½μ–΄ λ“¤μ΄κ³ μ ν•λ” μ£Όμ† κ°’μ„ μ£Όμ† λ²„μ¤λ΅ λ³΄λ‚Ό λ• μ΄ λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°λ¥Ό κ±°μΉκ² λλ‹¤.

#### π” λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„° (MBR, Memory Buffer Register)

- λ©”λ¨λ¦¬μ™€ μ£Όκ³  λ°›μ„ **κ°’(λ°μ΄ν„°μ™€ λ…λ Ήμ–΄)μ„ μ €μ¥**ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤.
- CPUκ°€ **μ£Όμ† λ²„μ¤**λ΅ λ‚΄λ³΄λ‚Ό κ°’μ΄ λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°λ¥Ό κ±°μΉλ‹¤λ©΄, **λ°μ΄ν„° λ²„μ¤**λ΅ μ£Όκ³  λ°›μ„ κ°’μ€ λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°λ¥Ό κ±°μΉλ‹¤.
- λ©”λ¨λ¦¬ λ°μ΄ν„° λ μ§€μ¤ν„°(MDR, Memoery Data Register)λΌλ” λ…μΉ­μΌλ΅λ„ μ‚¬μ©λλ‹¤.

#### π” λ…λ Ήμ–΄ λ μ§€μ¤ν„° (IR, Instruction Register)

- λ°©κΈ λ©”λ¨λ¦¬μ—μ„ μ½μ–΄ λ“¤μΈ **λ…λ Ήμ–΄λ¥Ό μ €μ¥**ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤.
- μ μ–΄μ¥μΉμ—μ„ ν•΄μ„ν•  λ…λ Ήμ–΄λ¥Ό μ΄ λ…λ Ήμ–΄ λ μ§€μ¤ν„°μ—μ„ κ°€μ Έμ¤κ² λλ‹¤.

![04_CPU_λ…λ Ήμ–΄μ²λ¦¬κ³Όμ •](images/04_CPU_λ…λ Ήμ–΄μ²λ¦¬κ³Όμ •.png)

- [**(μ¶μ²) CPUμ λ…λ Ήμ–΄ μ²λ¦¬ κ³Όμ • μ νλΈ λ³΄κΈ°**](https://www.youtube.com/watch?v=Fg00LN30Ezg&t=831s)

#### π” λ²”μ© λ μ§€μ¤ν„°

- **λ°μ΄ν„°**μ™€ **μ£Όμ†**λ¥Ό **λ¨λ‘ μ €μ¥**ν•  μ μλ” λ²”μ© λ μ§€μ¤ν„°μ΄λ‹¤.
- λ³΄ν†µ CPU λ‚΄μ— μ—¬λ¬ κ°μ λ²”μ© λ μ§€μ¤ν„°λ¥Ό κ°–κ³  μμΌλ©°, μΌλ°μ μΈ μƒν™©μ—μ„ μμ λ΅­κ² μ‚¬μ©ν•  μ μλ‹¤.

#### π” ν”λκ·Έ λ μ§€μ¤ν„°

- ALU μ—°μ‚° κ²°κ³Όμ— λ€ν• λ¶€κ°€μ μΈ μƒνƒ μ •λ³΄μΈ ν”λκ·Έλ¥Ό μ €μ¥ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤.
- λ€ν‘μ μΌλ΅ λ¶€νΈ ν”λκ·Έ, μ λ΅ ν”λκ·Έ, μΊλ¦¬ ν”λκ·Έ, μ¤λ²„ν”λ΅μ° ν”λκ·Έ, μΈν„°λ½νΈ ν”λκ·Έ λ“±μ΄ μλ‹¤.

#### π” μ¤νƒ ν¬μΈν„° (Stack Pointer)

- μ¤νƒμ κΌ­λ€κΈ° μ„μΉμ— μλ” μ£Όμ† μ •λ³΄λ¥Ό μ €μ¥ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤.
- **μ¤νƒ μ£Όμ† μ§€μ • λ°©μ‹**μ—μ„ μ‚¬μ©λλ‹¤.

#### π” λ² μ΄μ¤ λ μ§€μ¤ν„° (Base Register)

- κΈ°μ¤€ μ£Όμ†λ¥Ό μ €μ¥ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤.
- μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹ μ¤‘ **λ² μ΄μ¤ λ μ§€μ¤ν„° μ£Όμ† μ§€μ • λ°©μ‹**μ— μ‚¬μ©λλ‹¤.


### β‡οΈ νΉμ • λ μ§€μ¤ν„°λ¥Ό μ΄μ©ν• μ£Όμ† μ§€μ • λ°©μ‹ :: (1) μ¤νƒ μ£Όμ† μ§€μ • λ°©μ‹

```markdown
π’΅ 03μ¥μ—μ„ λ°°μ› λ μ£Όμ† μ§€μ • λ°©μ‹ 5κ°€μ§€
- μ¦‰μ‹ μ£Όμ† μ§€μ • λ°©μ‹
- μ§μ ‘ μ£Όμ† μ§€μ • λ°©μ‹
- κ°„μ ‘ μ£Όμ† μ§€μ • λ°©μ‹
- λ μ§€μ¤ν„° μ£Όμ† μ§€μ • λ°©μ‹
- λ μ§€μ¤ν„° κ°„μ ‘ μ£Όμ† μ§€μ • λ°©μ‹
```

<div align="center">
<img width="48%" src="images/04_μ¤νƒν¬μΈν„°_μ¤νƒμμ—­.png">
<img width="40%" src="images/04_μ¤νƒμ£Όμ†μ§€μ •λ°©μ‹.png">
</div>

- **μ¤νƒ**κ³Ό **μ¤νƒ ν¬μΈν„°**λ¥Ό μ΄μ©ν• **μ£Όμ† μ§€μ • λ°©μ‹**μ΄λ‹¤.
- μ¤νƒμ€ λ©”λ¨λ¦¬ λ‚΄μ— **μ¤νƒ μμ—­**μ΄λΌλ” κ³³μ— μ΅΄μ¬ν•λ‹¤.
- **μ¤νƒ ν¬μΈν„°**λ€ μ¤νƒμ κ°€μ¥ λ§μ§€λ§‰μ— μ €μ¥λ κ°’μ μ„μΉλ¥Ό λ‚νƒ€λ‚Έλ‹¤.

### β‡οΈ νΉμ • λ μ§€μ¤ν„°λ¥Ό μ΄μ©ν• μ£Όμ† μ§€μ • λ°©μ‹ :: (2) λ³€μ„ μ£Όμ† μ§€μ • λ°©μ‹

<div align="center">
<img width="50%" src="images/04_λ³€μ„μ£Όμ†μ§€μ •λ°©μ‹_1.png"/>
<p/>
<img width="50%" src="images/04_λ³€μ„μ£Όμ†μ§€μ •λ°©μ‹_0.png"/>
</div>

- λ³€μ„ μ£Όμ† μ§€μ • λ°©μ‹μ€ **μ¤νΌλλ“ ν•„λ“μ κ°’**(λ³€μ„)κ³Ό νΉμ • **λ μ§€μ¤ν„°μ κ°’**μ„ **λ”ν•μ—¬** μ ν¨ μ£Όμ†λ¥Ό μ–»μ–΄λ‚΄λ” **μ£Όμ† μ§€μ • λ°©μ‹**μ΄λ‹¤.
- μ¤νΌλλ“ ν•„λ“μ μ£Όμ†μ™€ **μ–΄λ–¤ λ μ§€μ¤ν„°μ κ°’**μ„ λ”ν•λ”μ§€μ— λ”°λΌ **μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹**κ³Ό **λ² μ΄μ¤ λ μ§€μ¤ν„° μ£Όμ† μ§€μ • λ°©μ‹** λ“±μΌλ΅ λ‚λ‰λ‹¤.

#### π” a. μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹

<div align="center">
<img width="60%" src="images/04_μƒλ€μ£Όμ†μ§€μ •λ°©μ‹.png">
</div>

- μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹μ€ **μ¤νΌλλ“**μ™€ **ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°**μ κ°’μ„ λ”ν•μ—¬ μ ν¨ μ£Όμ†λ¥Ό μ–»λ” λ°©μ‹μ΄λ‹¤.
- μ„μ μμ‹μ—μ„ ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°μ— μλ λ…λ Ήμ–΄μ μ£Όμ†μ— -3 λ§νΌ μ΄μ „μ— μλ” μ£Όμ†μ λ©”λ¨λ¦¬μ— μλ” κ°’μ„ κ°€μ Έμ¨λ‹¤.
- ν”„λ΅κ·Έλλ° μ–Έμ–΄μ ifλ¬Έκ³Ό μ μ‚¬ν•κ² λ¨λ“  μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ” κ²ƒμ΄ μ•„λ‹, λ¶„κΈ°ν•μ—¬ νΉμ • μ£Όμ†μ μ½”λ“λ¥Ό μ‹¤ν–‰ν•  λ• μ‚¬μ©λλ‹¤.

#### π” b. μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹

<div align="center">
<img width="60%" src="images/04_λ² μ΄μ¤λ μ§€μ¤ν„°μ£Όμ†μ§€μ •λ°©μ‹.png">
</div>

- λ² μ΄μ¤ λ μ§€μ¤ν„° μ£Όμ† μ§€μ • λ°©μ‹μ€ **μ¤νΌλλ“**μ™€ **λ² μ΄μ¤ λ μ§€μ¤ν„°μ κ°’**μ„ λ”ν•μ—¬ μ ν¨ μ£Όμ†λ¥Ό μ–»λ” λ°©μ‹μ΄λ‹¤.


---
<br>


## 3) λ…λ Ήμ–΄ μ‚¬μ΄ν΄κ³Ό μΈν„°λ½νΈ

```markdown
π’΅ CPUκ°€ ν•λ‚μ λ…λ Ήμ–΄λ¥Ό μ²λ¦¬ν•λ” νλ¦„μΈ λ…λ Ήμ–΄ μ‚¬μ΄ν΄κ³Ό κ·Έ νλ¦„μ„ λ°©ν•΄ν•λ” μΈν„°λ½νΈμ— λ€ν•΄ μ•μ•„λ³Έλ‹¤
```

### β‡οΈ λ…λ Ήμ–΄ μ‚¬μ΄ν΄

> **λ…λ Ήμ–΄ μ‚¬μ΄ν΄**μ΄λ€ CPUκ°€ ν•λ‚μ λ…λ Ήμ–΄λ¥Ό μ²λ¦¬ν•λ” μ •ν•ν™”λ κ³Όμ •μ„ λ»ν•λ‹¤.

<div align="center">
<img width="80%" src="images/04_λ…λ Ήμ–΄μ‚¬μ΄ν΄_λ„μ‹ν™”.png">
<p style="font-weight:bold;">[λ…λ Ήμ–΄ μ‚¬μ΄ν΄ λ„μ‹ν™”]</p>
</div>

π“ λ…λ Ήμ–΄ μ‚¬μ΄ν΄μ€ λ‹¤μκ³Ό κ°™μ΄ ν¬κ² 4κ°€μ§€λ΅ κµ¬λ¶„λλ‹¤

- **μΈμ¶ μ‚¬μ΄ν΄**: λ©”λ¨λ¦¬μ— μλ” λ…λ Ήμ–΄λ¥Ό CPUλ΅ κ°€μ§€κ³  μ¤λ” λ‹¨κ³„
- **μ‹¤ν–‰ μ‚¬μ΄ν΄**: CPUλ΅ κ°€μ Έμ¨(μΈμ¶λ) λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•λ” λ‹¨κ³„
- **κ°„μ ‘ μ‚¬μ΄ν΄**: μ£Όμ† μ§€μ • λ°©μ‹κ³Ό κ°™μ΄ λ©”λ¨λ¦¬μ— μ ‘κ·Όμ΄ ν•„μ”ν• κ²½μ° λ©”λ¨λ¦¬μ— μλ” λ°μ΄ν„°λ¥Ό CPUλ΅ κ°€μ§€κ³  μ¤λ” λ‹¨κ³„
- **μΈν„°λ½νΈ μ‚¬μ΄ν΄**: μΈν„°λ½νΈκ°€ λ°μƒν• κ²½μ°, μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ„ μ²λ¦¬ν•λ” λ‹¨κ³„

ν”„λ΅κ·Έλ¨μ„ μ΄λ£¨λ” μλ§μ€ λ…λ Ήμ–΄λ” μΌλ°μ μΌλ΅ μΈμ¶κ³Ό μ‹¤ν–‰ μ‚¬μ΄ν΄μ„ λ¬΄μν λ°λ³µν•λ©° μ‹¤ν–‰λλ‹¤.  

### β‡οΈ μΈν„°λ½νΈ (Interrupt)

- μΈν„°λ½νΈ(interrupt): λ°©ν•΄ν•λ‹¤, μ¤‘λ‹¨μ‹ν‚¤λ‹¤  
- μ¦‰, μΈν„°λ½νΈλ€ CPUκ°€ μ‘μ—…μ„ κ³„μ† μν–‰ν•κ³  μλ” λ„μ¤‘μ— μ™Έλ¶€ μ”μΈμ— μν•΄ μ¤‘λ‹¨λλ” κ²½μ°λ¥Ό λ§ν•λ‹¤
- "CPUκ°€ κΌ­ μ£Όλ©ν•΄μ•Ό ν•  λ•" νΉμ€ "CPUκ°€ μ–Όλ¥Έ μ²λ¦¬ν•΄μ•Ό ν•  λ‹¤λ¥Έ μ‘μ—…μ΄ μƒκ²Όμ„ λ•" λ°μƒν•λ‹¤

<div align="center">
<img width="60%" src="images/04_μΈν„°λ½νΈ_μΆ…λ¥.png">
</div>

### β‡οΈ λ™κΈ° μΈν„°λ½νΈ (Synchronous interrupt) β‰’ μμ™Έ (Exception)

- **CPUμ— μν•΄ λ°μƒ**ν•λ” μΈν„°λ½νΈμ΄λ‹¤
- CPUκ°€ λ…λ Ήμ–΄λ“¤μ„ μν–‰ν•λ‹¤κ°€ **μκΈ°μΉ λ»ν• μ¤λ¥**κ°€ λ°μƒν–μ„ λ• λ°μƒν•λ” μΈν„°λ½νΈμ΄λ‹¤
- μ΄λ¬ν• μ μ—μ„ λ™κΈ° μΈν„°λ½νΈλ” **μμ™Έ**(Exception)μ΄λΌλ” ν‘ν„μ„ λ” λ§μ΄ μ‚¬μ©ν•λ‹¤

### β‡οΈ λΉ„λ™κΈ° μΈν„°λ½νΈ (Asynchronous interrupt) β‰’ μΈν„°λ½νΈ β‰’ ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ

- μ£Όλ΅ **μ…μ¶λ ¥μ¥μΉμ— μν•΄ λ°μƒ**ν•λ” μΈν„°λ½νΈμ΄λ‹¤
- ν”ν **μΈν„°λ½νΈ**λΌκ³  λ§ν•λ” κ²ƒμ΄ λΉ„λ™κΈ° μΈν„°λ½νΈλ¥Ό λ»ν•λ©°, **ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ**λΌλ” λ…μΉ­λ„ λ§μ΄ μ‚¬μ©λλ‹¤ 
- μ•λ¦Όκ³Ό κ°™μ€ μΈν„°λ½νΈμ΄λ‹¤
- μ…μ¶λ ¥μ¥μΉλ” CPUλ³΄λ‹¤ μ†λ„κ°€ ν„μ €ν λλ¦¬κΈ° λ•λ¬Έμ— λΉ„λ™κΈ° λ°©μ‹μΌλ΅ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¨λ‹¤

#### π” μΈν„°λ½νΈ μ²λ¦¬ μμ„

<div align="center">
<img width="50%" src="images/04_μΈν„°λ½νΈ_μ²λ¦¬μμ„.png">
</div>

> β‘  μ…μ¶λ ¥μ¥μΉλ” CPUμ— **μΈν„°λ½νΈ μ”μ²­ μ‹ νΈ**λ¥Ό λ³΄λ‚Έλ‹¤  
> β‘΅ CPUλ” μ‹¤ν–‰ μ‚¬μ΄ν΄μ΄ λλ‚κ³  λ…λ Ήμ–΄λ¥Ό μΈμ¶ν•κΈ° μ „ ν•­μƒ μΈν„°λ½νΈ μ—¬λ¶€λ¥Ό ν™•μΈν•λ‹¤  
> β‘Ά CPUλ” μΈν„°λ½νΈ μ”μ²­μ„ ν™•μΈν•κ³  **μΈν„°λ½νΈ ν”λκ·Έ**λ¥Ό ν†µν•΄ ν„μ¬ μΈν„°λ½νΈλ¥Ό λ°›μ•„λ“¤μΌ μ μλ”μ§€ μ—¬λ¶€λ¥Ό ν™•μΈν•λ‹¤    
> β‘£ μΈν„°λ½νΈλ¥Ό λ°›μ•„λ“¤μΌ μ μλ‹¤λ©΄ CPUλ” μ§€κΈκΉμ§€μ μ‘μ—…μ„ **λ°±μ—…**ν•λ‹¤  
> β‘¤ CPUλ” **μΈν„°λ½νΈ λ²΅ν„°**λ¥Ό μ°Έμ΅°ν•μ—¬ **μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄**μ„ μ‹¤ν–‰ν•λ‹¤  
> β‘¥ μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄ μ‹¤ν–‰μ΄ λ¨λ‘ λλ‚λ©΄ β‘£μ—μ„ λ°±μ—…ν•΄ λ‘” μ‘μ—…μ„ λ³µκµ¬ν•μ—¬ **μ‹¤ν–‰μ„ μ¬κ°**ν•λ‹¤  

#### π” μΈν„°λ½νΈ μ”μ²­ μ‹ νΈ

- μΈν„°λ½νΈκ°€ λ°μƒν–λ‹¤κ³  CPUμ—κ² μ•λ¦¬λ” μ”μ²­ μ‹ νΈ

#### π” μΈν„°λ½νΈ ν”λκ·Έ

<div align="center">
<img width="50%" src="images/04_μΈν„°λ½νΈ_ν”λκ·Έ_λ μ§€μ¤ν„°.png">
</div>

- CPUκ°€ ν„μ¬ μΈν„°λ½νΈ μ”μ²­μ„ **μ²λ¦¬ν•  μ μλ”μ§€ μ—¬λ¶€**μ— λ€ν• ν”λκ·Έ κ°’μ΄λ‹¤
- `1: μ²λ¦¬ κ°€λ¥`, `0: μ²λ¦¬ λ¶κ°€λ¥`
- 0μΌ κ²½μ° μΈν„°λ½νΈ μ”μ²­μ΄ λ“¤μ–΄μ¤λ”λΌλ„ ν•΄λ‹Ή μ”μ²­μ€ λ¬΄μ‹λλ‹¤
- λ¬΄μ‹ν•  μ μ—†λ” μΈν„°λ½νΈ μ”μ²­λ„ μλ‹¤
  - λ§‰μ„ μ μλ” μΈν„°λ½νΈ: μΌλ°μ μΈ μ…μ¶λ ¥ μΈν„°λ½νΈ
  - λ§‰μ„ μ μ—†λ” μΈν„°λ½νΈ: μ •μ „μ΄λ‚ ν•λ“μ›¨μ–΄ κ³ μ¥ λ“±μ λ°λ“μ‹ κ°€μ¥ λ¨Όμ € μ²λ¦¬ν•΄μ•Ό ν•λ” μΈν„°λ½νΈ

#### π” μΈν„°λ½νΈ λ²΅ν„°

<div align="center">
<img width="50%" src="images/04_μΈν„°λ½νΈλ²΅ν„°.png">
</div>

- μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ„ μ‹λ³„ν•κΈ° μ„ν• μ •λ³΄ (μ‹μ‘ μ£Όμ†κ°’)
- CPUλ” ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ **μ”μ²­μ„ λ³΄λ‚Έ λ€μƒ**μΌλ΅λ¶€ν„° λ°μ΄ν„° λ²„μ¤λ¥Ό ν†µν•΄ **μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ „λ‹¬λ°›λ”λ‹¤**

#### π” μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄ (ISR, Interrupt Service Routine)

- μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•κΈ° μ„ν• ν”„λ΅κ·Έλ¨μ΄λ‹¤
- μ–΄λ–¤ μΈν„°λ½νΈκ°€ λ°μƒν–μ„ λ• ν•΄λ‹Ή μΈν„°λ½νΈλ¥Ό μ–΄λ–»κ² μ²λ¦¬ν•κ³  μ‘λ™ν•΄μ•Ό ν• μ§€μ— λ€ν• μ •λ³΄λ΅ μ΄λ£¨μ–΄μ§„ ν”„λ΅κ·Έλ¨μ΄λ‹¤
- μΈν„°λ½νΈ ν•Έλ“¤λ¬(Interrupt Handler)λΌκ³  λ¶€λ¥΄κΈ°λ„ ν•λ‹¤

> π’΅ μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ μ‘μ—…μ΄ λ¨λ‘ λλ‚ λ’¤, κΈ°μ΅΄μ μ‘μ—…μ„ λ‹¤μ‹ μ¬κ°ν•λ ¤λ©΄ μ–΄λ–»κ² ν•΄μ•Όν• κΉ?  
> β†’ μ„λΉ„μ¤ λ£¨ν‹΄μ„ μ‹μ‘ν•κΈ° μ „μ— ν”„λ΅κ·Έλ¨μ„ μ¬κ°ν•κΈ° μ„ν•΄ ν•„μ”ν• λ¨λ“  μ •λ³΄λ¥Ό **μ¤νƒμ— λ°±μ—…**ν•λ‹¤

<div align="center">
<img width="60%" src="images/04_μΈν„°λ½νΈ_μƒνƒλ°±μ—….png">
</div>

- μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ„ μ‹¤ν–‰ν•κΈ° μ „, ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„° κ°’ λ“± ν„μ¬ ν”„λ΅κ·Έλ¨μ„ μ¬κ°ν•κΈ° μ„ν•΄ ν•„μ”ν• λ¨λ“  λ‚΄μ©μ„ **μ¤νƒμ— λ°±μ—…**ν•λ‹¤
- μ¤νƒμ€ λ©”λ¨λ¦¬ λ‚΄μ— **μ¤νƒ μμ—­**μ΄λΌλ” κ³³μ— μ΅΄μ¬ν•λ‹¤.


### β™οΈ [μΆ€ λ” μ•μ•„λ³΄κΈ°] μμ™Έμ μΆ…λ¥

<div align="center">
<img width="50%" src="images/04_λ™κΈ°μΈν„°λ½νΈ_μμ™Έ.png">
</div>

μμ™Έκ°€ λ°μƒν•λ©΄ CPUλ” ν•λ μΌμ„ μ¤‘λ‹¨ν•κ³  ν•΄λ‹Ή μμ™Έλ¥Ό μ²λ¦¬ν•΄μ•Ό ν•λ‹¤.  
μμ™Έκ°€ λ°μƒν• λ…λ Ήμ–΄λ¶€ν„° μ‹¤ν–‰ν•λλƒ, μμ™Έκ°€ λ°μƒν• λ…λ Ήμ–΄μ λ‹¤μ λ…λ Ήμ–΄λ¶€ν„° μ‹¤ν–‰ν•λλƒμ— λ”°λΌ **ν΄νΈ**μ™€ **νΈλ©**μΌλ΅ λ‚λ‰λ‹¤.

- **ν΄νΈ(fault)**: μμ™Έλ¥Ό μ²λ¦¬ν• μ§ν›„ μμ™Έκ°€ λ°μƒν• λ…λ Ήμ–΄λ¶€ν„° μ‹¤ν–‰μ„ μ¬κ°.
- **νΈλ©(trap)**: μμ™Έκ°€ λ°μƒν• λ…λ Ήμ–΄μ λ‹¤μ λ…λ Ήμ–΄λ¶€ν„° μ‹¤ν–‰μ„ μ¬κ°. μ£Όλ΅ λ””λ²„κΉ…ν•  λ• μ‚¬μ©.
- **μ¤‘λ‹¨(abort)**: CPUκ°€ μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅κ·Έλ¨μ„ κ°•μ λ΅ μ¤‘λ‹¨μ‹ν‚¬ μλ°–μ— μ—†λ” μ‹¬κ°ν• μ¤λ¥λ¥Ό λ°κ²¬ν–μ„ λ• λ°μƒν•λ” μμ™Έ
- **μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ(software interrupt)**: μ‹μ¤ν… νΈμ¶μ΄ λ°μƒν–μ„ λ•. (09μ¥μ—μ„ λ‹¤λ£Έ)

---
<br>

## κ¶κΈμ¦

- λ¶€νΈ ν”λκ·Έ?? μ λ΅ ν”λκ·Έ??
- μ—°μ‚° κ²°κ³Όμ μμ κ°’μ€ λ¶€νΈ ν”λκ·Έλ¥Ό ν†µν•΄ κµ¬λ¶„?
- κ·Έλ ‡λ‹¤λ©΄ λ©”λ¨λ¦¬μ™€ λ¨μ— μμ κ°’μ„ μ €μ¥ν•  λ•λ” μ–΄λ–»κ² ν•λ”κ°€?
  - μ‹¤μ  λ©”λ¨λ¦¬μ—μ„λ” μ²« λ²μ§Έ λΉ„νΈλ¥Ό λ¶€νΈ λΉ„νΈλ΅ μ‚¬μ©ν•λ‹¤.
  - ex) Javaμ Int μλ£ν•μ ν¬κΈ°λ” 32Bits μ¦‰, -2^31 ~ 2^31-1 (-2147483648 ~ 2147483647)

- [[μ νλΈ - μ½”λ”©μ• ν”] CPUλ” μ§‘μ—μ„ λ§λ“¤μ§€λ§κ³  μ‚¬μ„μ“°μ„Έμ” μ λ°](https://www.youtube.com/watch?v=WGKHEIpXy5c)
  - νΈλμ§€μ¤ν„°λ€?
  - λ…Όλ¦¬κ²μ΄νΈ(NOT, AND, OR, XOR λ“±)
  - λ§μ… λ…Όλ¦¬ νλ΅(XOR + AND + OR, half Adder, μ¬λ¦Όμ)
  - 8λΉ„νΈ CPU
- [[μ νλΈ - bRd 3D] CPUλ” μ–΄λ–»κ² μ‘λ™ν• κΉ?](https://www.youtube.com/watch?v=Fg00LN30Ezg&t=819s)
  - νΈλμ§€μ¤ν„°λ€? (Pν•, Nν•, PNP, NPN λ°λ„μ²΄)
  - λ…Όλ¦¬κ²μ΄νΈ(NOT, AND, OR, XOR λ“±)
  - λ§μ… λ…Όλ¦¬ νλ΅(XOR + AND + OR, half Adder, μ¬λ¦Όμ)
  - λ©”λ¨λ¦¬(REGISTER, CACHE, RAM, SSD(Hard Disk))
  - CPU λ™μ‘ μ›λ¦¬(ALU, λ„μ‚°κΈ°, μ μ–΄μ¥μΉ(CU), λ μ§€μ¤ν„°)
- [[λ‚λ¬΄μ„ν‚¤] μΊμ‹λ©”λ¨λ¦¬](https://namu.wiki/w/%EC%BA%90%EC%8B%9C%20%EB%A9%94%EB%AA%A8%EB%A6%AC)
# 2장. 네트워크 연결과 구성 요소

1) 네트워크 연결 구분
2) 네트워크 회선
3) 네트워크 구성 요소

<br/>
---

## 1️⃣ 네트워크 연결 구분

네트워크는 규모와 관리 번위에 따라 LAN, MAN, WAN 3가지로 구분된다.

- LAN(Local Area Network): 사용자 내부 네트워크
- MAN(Metro Area Network): 한 도시 정도를 연결하고 관리하는 네트워크
- WAN(Wide Area Network): 멀리 떨어진 LAN을 연결해주는 네트워크

### LAN (Local Area Network)

- 홈 네트워크용과 사무실 네트워크용 처럼 비교적 소규모의 네트워크를 말한다.
- 먼 거리를 통신할 필요가 없어 스위치와 같이 비교적 간단한 장비로 연결된 네트워크이다.
- 현재는 대부분 이더넷 기반 전송 기술을 사용한다. 

_(복잡하거나 대규모인 네트워크라도 직접 구축한 네트워크 범위라면 LAN이라고 부른다)_

### WAN (Wide Area Network)

- 먼 거리에 있는 네트워크를 연결하기 위해 사용한다
- 멀리 떨어진 LAN을 서로 연결하거나 인터넷에 접속하기 위한 네트워크이다
- 대부분 통신사업자로부터 회선을 임대해 사용한다

<br/>
---

## 2️⃣ 네트워크 회선

### 인터넷 회선

- 인터넷 접속을 위해 통신사업자와 연결하는 회선을 인터넷 회선이라고 한다.  
- 일반 가정에서 인터넷에 연결하기 위해 사용하는 기술은 인터넷 전용 회선으로, 이와 조금 차이가 있다.  
- 가입자와 통신사업자 간에 직접 연결되는 구조가 아니라 전송 선로 공유 기술을 사용한다.  
- 다른 사용자들과 전송 선로를 공유하므로 전용 회선과는 달리 그 속도를 보장하지 않는다. (주변 사용량에 따라 속도가 느려질 수 있음)

**일반 인터넷 회선의 종류**
- 광랜(이더넷): 기가 ~ 100Mbps
- FTTH: 기가 ~ 100Mbps
- 동축 케이블 인터넷: 수백 ~ 수십 Mbps
- xDSL(ADSL, VDSL 등): 수십 ~ 수 Mbps

### 전용 회선

- 가입자와 통신사업자 간에 대역폭을 보장해주는 서비스를 대부분 전용 회선이라고 부른다
- 가입자와 통신사업자 간에는 전용 케이블로 연결되어 있고, 통신사업자 내부에서 TDM(시분할 다중화: Time Division Multiplexing) 같은 기술로 마치 직접 연결한 것처럼 통신 품질을 보장해준다
  - 저속: 음성 전송 기술 기반
    - 64kpbs 의 작은 기본 단위로 묶어 회선 접속 속도를 높이는 방법으로 과거에 오랫동안 사용되어 왔지만, 현재 이더넷 기반의 광 전송 기술이 신뢰할 정도의 수준으로 발전하여 점점 사용 빈도가 줄어들고 있다
  - 고속: 메트로 이더넷
    - 고속 연결은 대부분 광케이블 기반의 이더넷을 사용한다
    - 가입자와 통신사업자 간의 접속 기술은 이더넷을 사용하고, 통신사업자 내부에서는 이런 개별 가입자를 묶어 통신할 수 있는 다른 고속 통신 기술을 사용한다

### 인터넷 전용 회선

- 인터넷 연결 회선에 대한 통신 대역폭을 보장해주는 상품이다
- 가입자가 통신사업자와 연결되고 이 연결이 다시 인터넷과 연결되는 구조이다
- 일반 가정에서 사용하는 접속 기술과 달리 다른 가입자와 경쟁하지 않고 연결 품질을 보장해준다

### VPN (Virtual Private Network)

- 물리적으로는 전용선이 아니지만 가상으로 직접 연결한 것 같은 효과가 나도록 만들어주는 네트워크 기술이다
- 다양한 VPN 기술이 있으며, 가입자 입장에서의 VPN 기술과 통신사업자 입장에서의 VPN 기술이 별도로 발전해왔다

### DWDM (Dense Wavelenth Division Multiplex: 파장 분할 다중화)

- DWDM 전송 기술은 먼 거리를 통신할 때 케이블 포설 비용이 매우 많이 들고, 관리가 어려운 문제를 극복하기 위해 개발되었다
- WDM과 DWDM 기술은 하나의 광케이블에 다른 파장의 빛을 통해 여러 채널을 만드는 동시에 많은 데이터를 전송할 수 있다
- DWDM은 WDM보다 더 많은 채널을 이용하며, 최근 일반 가정에서 사용하는 기가 인터넷에서도 사용되고 있다


<br/>
---

## 3️⃣ 네트워크 구성 요소

### 네트워크 인터페이스 카드 (NIC)

- 흔히 랜 카드라고 불리는 NIC는 컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치이다
- 노트북과 데스크톱 PC에서는 NIC가 온보드 형태로 기본 장착되므로 별도의 NIC를 추가할 필요가 거의 없다
- 서버도 온보드 형태로 장착되어 나오지만, 더 높은 대역폭이 필요한 경우 추가로 장착할 수 있다

**NIC의 주요 역할**
- 직렬화(Serialization)
  - 전기적 신호를 데이터 신호 형태로, 또는 데이터 신호 형태를 전기적 신호 형태로 변환하는 것
- MAC 주소
  - NIC에 적힌 MAC 주소를 통해 패킷의 발신자와 수신자를 확인할 수 있다
- 흐름 제어(Flow Control)
  - 패킷 기반 네트워크에서는 여러 통신이 하나의 채널을 이용하므로 이미 통신 중인 데이터 처리 떄문에 새로운 데이터를 못 받을 수도 있다
  - 이러한 데이터 유실 방지를 위해 데이터를 받지 못할 때, 상대방에게 통신 중지 요청을 할 수 있으며, 이를 흐름 제어라고 한다

### 케이블과 커넥터

- 케이블은 트위스티드 페어 케이블, 동축 케이블, 광케이블 3가지가 있다
- 연결해야 하는 거리나 속도에 따라 다양한 케이블이 있고, 용도에 맞게 사용된다

**이더넷 네트워크 표준**
- 현재 가장 대중화 된 이더넷 표준은 기가비트 이더넷과 10기가비트 이더넷이다
- 이더넷에서도 케이블의 종류, 인코더의 종류 등으로 세분화해 여러 가지 표준으로 나뉘며, 대표적으로 많이 사용되는 표준은 아래 3가지이다.
  - 1,000BASE-T/10GBASE-T
    - 트위스티드 페어 케이블을 이용하는 기가 이더넷 표준
  - 1,000BASE-SX/10GBASE-SR
    - 멀티모드 광케이블을 사용하고 비교적 짧은 거리를 보낼 수 있는 이더넷 표준
  - 1,000BASE-LX/10GBASE-LR
    - 싱글모드 광케이블을 사용하고 비교적 긴 거리를 보낼 수 있는 이더넷 표준

앞의 숫자는 속도를 나타낸다. 중간은 채널을 나타내며 Base는 단일 채널, Borad는 다채널을 의미한다. 마지막 문자는 케이블 종류를 나타낸다. 

**케이블, 커넥터 구조**
- 케이블은 물리적으로 케이블 본체, 커넥터, 트랜시버와 같은 여러 요소로 나뉜다
- 케이블 본체는 트위스티드 페어, 동축, 광케이블로 나뉘고 케이블 본체의 종류에 따라 커넥터와 트랜시버의 종류도 함께 달라진다

**케이블 - 트위스티드 페어 케이블**
- 가장 흔히 사용하는 케이블이다
- 쉴드를 장착한 STP/FTP 케이블과, 종류와 쉴드가 없는 UTP 케이블이 있다
- 트위스티드 페어 케이블에도 요구되는 속도와 통신 거리에 따라 다양한 스펙이 있으며, 카테고리 단위로 케이블 등급을 나누는데, 가장 많이 사용하는 케이블은 카테고리 5E 케이블이다

**케이블 - 동축 케이블**
- 케이블 TV와 연결할 때 사용하는 두꺼운 검정 케이블과 같은 종류이다
- 최근 10G 이상의 고속 연결을 위해 트랜시버를 통합한 DAC(Direct Attach Copper Cable) 케이블을 많이 사용하는데, 이는 동축 케이블 중 하나이다.

**케이블 - 광케이블**
- 광케이블은 다른 구리선(UTP, 동축)보다 신뢰도가 높고, 더 먼 거리까지 통신할 수 있다.
- 따라서, 높은 대역폭을 요구하거나 먼 거리를 통신해야 하는 네트워크 장비 간의 통신에 주로 사용된다
- 감쇄와 간섭으로부터 비교적 자유롭다
  - 싱글모드 광케이블: 먼 거리 통신을 위해 사용되며 광원으로 레이저를 사용한다. 케이블 굵기가 매우 가늘고 가격이 비싸다
  - 멀티모드 광케이블: 비교적 가까운 통신에서 사용되며 광원으로 LED를 사용한다. 케이블 굵기가 두껍고 가격이 싱글모드보다 저렴하다

**커넥터**
- 케이블의 끝부분으로 네트워크 장비나 네트워크 카드에 연결되는 부분이다
- 트위스티드 페어 케이블은 RJ-45 커넥터를 사용하며, 광케이블은 LC, SC, FC, ST 커넥터 등 다양하다

**트랜시버**
- 다양한 외부 신호를 컴퓨터 내부의 전기 신호로 바꾸어준다
- 트랜시버는 광케이블뿐만 아니라 트위스티드 페어 케이블도 수용할 수 있으며, 이러한 트랜시버를 GLC-TE라고 한다

**브레이크아웃(Break-Out) 케이블**
- 하나의 커넥터에서 여러 개의 케이블로 분할해준다
- 팬아웃(Fan-Out) 케이블로도 불린다
- 보통 40G, 100G 연결을 여러 개의 10G, 25G 케이블로 분할하는 용도로 사용된다

**MPO(Multiple-Fiber Push-On/Pull-Off)**
- 데이터 센터에서 많고 복잡해진 케이블을 쉽게 수용하기 위해 고밀도 케이블과 커넥터를 사용하는데, 이를 MPO 케이블과 MPO 커넥터라고 한다
- MPO 커넥터를 사용하면 여러 개의 케이블을 하나의 커넥터로 연결해 처리할 수 있다
- MPO12는 한 줄에 12개의 케이블, MPO24는 두 줄에 24개의 케이블이 하나의 커넥터로 연결된다
- MPO 커넥터는 40GBASE-SR4, 100GBASE-SR4와 같은 표준에서 사용하는 MPO12와 100GBASE-SR10에서 사용하는 MPO-24 커넥터가 있다

### 허브

- 허브는 케이블과 동일한 1계층에서 동작하는 장비이다
- 거리가 멀어질수록 줄어드는 전기 신호를 재생성해주고, 여러 대의 장비를 연결할 목적으로 사용된다
- 그러나, 허브는 단순히 받은 신호를 그대로 모든 포트에 재성성하여 보내기 때문에 모든 단말이 경쟁하게 되므로 전체 네트워크 성능에 안좋은 영향을 주므로 현재는 거의 사용되지 않는다.

### 스위치

- 스위치는 허브와 동일하게 여러 장비를 연결하고 통신을 중재하는 2계층 장비이다
- 스위칭 허브라고도 불린다
- 스위치는 허브의 역할뿐만 아니라 MAC 주소를 통해 위치를 파악하고 목적지가 연결된 포트로만 전기 신호를 보낼 수 있다
- 허브는 무전기처럼 송수신을 동시에 할 수 었지만, 스위치는 전화기처럼 송수신을 동시에 할 수 있다

### 라우터

- 네트워크 크기가 점점 커지고, 먼 지역까지 통신해야 하는 요구사항이 늘어나면서 라우터가 생겨났다
- 3계층 장비이며, 먼 거리로 통신할 수 있는 프로토콜로 변환해준다
- 라우터는 원격지로 쓸데 없는 패킷이 전송되지 않도록 하는 브로드캐스트와 멀티캐스트를 컨트롤하고, 불분명한 주소로 통신을 시도할 경우 이를 버린다
- 즉, 정확한 방향으로 패킷이 전송되도록 경로를 지정하고 최적의 경로로 패킷을 포워딩한다

### 로드 밸런서

- 일반적으로 4계층에서 동작하는 장비이다
- 7계층에서 동작하는 ADC도 있다
- L4 스위치라고 부르는 네트워크 장비도 로드 밸런서의 한 종류로, 스위치처럼 여러 포트를 가지고 있으면서 로드 밸런서 역할을 하는 장비를 지칭한다
- 로드 밸런서는 4계층 포트 주소를 확인하는 동시에 IP 주소를 변경할 수 있다
- 가장 많이 사용되는 경우는 웹 서버를 증설하려고 할 때이다
- 로드 밸런서가 대표 IP를 갖고, 각 웹서버로 패킷의 목적지 IP 주소를 변경해 보내준다

### 보안 장비(방화벽/IPS)

- 정보를 잘 제어하고 공격을 방어하는 데 초점이 맞추어진 장비이며, 대표적으로 방화벽이 있다
- 방화벽은 4계층 장비이며, 방화벽을 통과하는 패킷의 3, 4계층 정보를 확인하고 패킷을 정책과 비교해 버리거나 포워딩한다

### 기타(모뎀, 공유기 등)

**공유기**
- 공유기는 2계층의 스위치, 3계층의 라우터, 4계층의 NAT와 간단한 방화벽 기능을 한 곳에 모아놓은 장비이다.
- 공유기 내부는 스위치 부분, 무선 AP 부분, 라우터 부분 회로로 나뉜다.

**모뎀**
- 모뎀은 짧은 거리를 통신하는 기술과 먼 거리를 통신할 수 있는 기술이 달라 이 기술들을 변환해 주는 장비이다.
- 공유기의 LAN과 WAN 포트는 모두 일반 이더넷이어서 100m 이상의 통신이 불가하여, 이를 가능하게 해주는 기술로 변환해주는 것이 모뎀이다
- 기가 인터넷의 경우 대부분 FTTH 모뎀을 사용하고, 동축 케이블 인터넷은 케이블 모뎀, 전화선을 사용할 경우 ADSL, VDSL 모뎀을 사용한다